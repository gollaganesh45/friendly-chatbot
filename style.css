/* style.css - Neon Chatbot style (responsive/mobile-friendly) */

/* Page layout */
:root{
  --bg:#0b0f17;
  --panel:#071024aa; /* frosted panel */
  --glass: rgba(255,255,255,0.03);
  --neon-1: #00f5ff; /* cyan */
  --neon-2: #7cff5f; /* green */
  --neon-3: #ff48c4; /* pink */
  --muted: #cbd5e1;
  --accent: #8affff;
  --shadow: 0 8px 30px rgba(0,0,0,0.7);
  --radius: 16px;
  --glass-border: rgba(255,255,255,0.04);
  --container-max-width: 380px;
}

/* global body */
*{box-sizing: border-box}
html,body{
  height:100%;
  margin:0;
  font-family: 'Poppins', system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  background:
    radial-gradient(1200px 600px at 10% 10%, rgba(112, 37, 255, 0.07), transparent 8%),
    radial-gradient(1000px 500px at 90% 90%, rgba(0,255,200,0.03), transparent 8%),
    var(--bg);
  color:var(--muted);
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:24px;
}

/* container */
.container{
  width: min(var(--container-max-width), 94vw);
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  border-radius:24px;
  padding:18px;
  box-shadow: var(--shadow);
  border: 1px solid var(--glass-border);
  backdrop-filter: blur(8px) saturate(120%);
  position:relative;
  overflow:hidden;
  display:flex;
  flex-direction:column;
}

/* decorative neon strip */
.container::before{
  content:"";
  position:absolute;
  left:-40%;
  top:-30%;
  width:200%;
  height:40%;
  background:linear-gradient(90deg, transparent, rgba(255,255,255,0.02), transparent);
  transform: rotate(-10deg);
  filter: blur(30px);
  pointer-events:none;
}

/* title */
.title{
  font-weight:600;
  font-size:20px;
  color:var(--accent);
  letter-spacing:0.2px;
  padding:6px 8px;
  margin-bottom:12px;
  display:flex;
  align-items:center;
  gap:10px;
  text-shadow:
    0 0 8px rgba(138,255,255,0.06),
    0 0 14px rgba(0,255,200,0.03);
}

/* chat area */
.chat{
  background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.008));
  border-radius:14px;
  height:420px; /* fallback for desktop */
  /* For responsiveness we will override height on smaller screens */
  overflow-y:auto;
  padding:14px;
  display:flex;
  flex-direction:column;
  gap:10px;
  border:1px solid rgba(255,255,255,0.02);
  box-shadow: inset 0 4px 14px rgba(0,0,0,0.6);
  flex: 1 1 auto; /* allow to grow/shrink inside container */
}

/* scrollbar (neat neon thumb) */
.chat::-webkit-scrollbar{width:8px}
.chat::-webkit-scrollbar-thumb{
  background: linear-gradient(180deg,var(--neon-1),var(--neon-3));
  border-radius:8px;
  opacity:0.9;
  box-shadow: 0 0 10px rgba(0,0,0,0.5);
}

/* message base */
.message{
  max-width:80%;
  padding:10px 12px;
  border-radius:12px;
  font-size:14px;
  line-height:1.35;
  box-shadow: 0 6px 18px rgba(0,0,0,0.5);
  opacity:0;
  transform: translateY(12px) scale(0.995);
  animation: popIn 360ms cubic-bezier(.2,.9,.3,1) forwards;
  word-wrap: break-word;
}

/* bot message style */
.message.bot{
  align-self:flex-start;
  background: linear-gradient(135deg, rgba(0,245,255,0.08), rgba(127,255,95,0.03));
  color: #e9ffff;
  border: 1px solid rgba(0,245,255,0.12);
  box-shadow: 0 8px 30px rgba(0,245,255,0.03), 0 2px 0 rgba(0,0,0,0.25) inset;
  border-top-left-radius:4px;
  position:relative;
}

/* user message style */
.message.user{
  align-self:flex-end;
  background: linear-gradient(135deg, rgba(255,72,196,0.06), rgba(138,255,255,0.02));
  color: #fff1ff;
  border: 1px solid rgba(255,72,196,0.12);
  box-shadow: 0 8px 30px rgba(255,72,196,0.03), 0 2px 0 rgba(0,0,0,0.25) inset;
  border-top-right-radius:4px;
}

/* neon accent glow for newest bot message */
.message.bot.new::after{
  content:"";
  position:absolute;
  left:-6px;
  top:-6px;
  right:-6px;
  bottom:-6px;
  border-radius:14px;
  z-index:-1;
  filter: blur(10px);
  background: linear-gradient(90deg, rgba(0,245,255,0.14), rgba(127,255,95,0.12), rgba(255,72,196,0.08));
  opacity:0.7;
  animation: pulseGlow 2.4s infinite;
}

/* small metadata under bubble - optional */
.meta{
  font-size:11px;
  color:rgba(255,255,255,0.35);
  margin-top:6px;
}

/* input area - we'll style for desktop and tweak for mobile below */
.input{
  width: calc(100% - 60px);
  padding:12px 14px;
  margin-top:12px;
  border-radius:12px;
  border:1px solid rgba(255,255,255,0.04);
  background: rgba(6,10,16,0.5);
  color:var(--muted);
  outline:none;
  box-shadow: inset 0 4px 10px rgba(0,0,0,0.5);
  transition: box-shadow .18s ease, transform .12s ease;
  font-size:15px;
}

/* button */
.button{
  width:44px;
  height:44px;
  border-radius:12px;
  margin-left:8px;
  border:none;
  background: linear-gradient(180deg,var(--neon-2),var(--neon-1));
  color:#021018;
  font-size:18px;
  display:inline-grid;
  place-items:center;
  cursor:pointer;
  box-shadow: 0 6px 20px rgba(0,0,0,0.6), 0 0 24px rgba(0,255,200,0.12);
  transition: transform .14s ease, filter .14s ease;
  border:1px solid rgba(255,255,255,0.04);
}

/* input + button row wrapper (desktop inline) */
.container > .input, .container > .button { display:inline-block; vertical-align:middle; }

/* input focus effect */
.input:focus{
  box-shadow: 0 6px 20px rgba(0,0,0,0.7), 0 0 22px rgba(138,255,255,0.04);
  transform: translateY(-1px);
}

/* button hover */
.button:hover{ transform: translateY(-3px) scale(1.02); filter:brightness(1.06) }

/* small mobile adjustments (phones / narrow screens) */
@media (max-width: 520px) {
  :root { --container-max-width: 100vw; }

  html, body { padding: 12px; }
  .container {
    width: 100%;
    padding: 12px;
    border-radius: 14px;
    max-height: 100vh;
  }

  .title{ font-size:18px; margin-bottom:8px; }

  /* Make chat height flexible and large on mobile */
  /* Use viewport units but subtract header + input area roughly */
  .chat{
    height: calc(100vh - 200px); /* adjusts to screen; tweak if needed */
    padding:12px;
  }

  /* enlarge message text for readability */
  .message{ font-size:15px; padding:12px 14px; }

  /* make input row stacked for easier tapping */
  .container > .input,
  .container > .button {
    display:block;
    width:100%;
    margin:8px 0 0 0;
  }

  /* bigger touch target for button */
  .button{
    height:52px;
    border-radius:12px;
    font-size:18px;
    margin-left:0;
    display:flex;
    align-items:center;
    justify-content:center;
  }

  /* ensure input full width */
  .input{
    width:100%;
    padding:14px;
    font-size:16px;
  }

  /* suggestions row stack (if you use suggestion chips) */
  .suggestions-row { margin-top:10px; gap:6px; }
  .suggestions-row button.button-suggestion { padding:8px 10px; font-size:14px; }

  /* reduce neon blur to save battery on mobile */
  .container::before{ filter: blur(18px); top:-40%; }
  .message.bot.new::after{ filter: blur(8px); opacity:0.6; }

  /* decrease scrollbar footprint */
  .chat::-webkit-scrollbar{width:6px}
}

/* tablet / medium screens adjustments */
@media (min-width: 521px) and (max-width: 900px) {
  .container { width: 420px; }
  .chat{ height:60vh; }
  .message{ font-size:15px; }
}

/* subtle pop-in animation for messages */
@keyframes popIn{
  to{
    opacity:1;
    transform: translateY(0) scale(1);
  }
}

/* pulse glow */
@keyframes pulseGlow{
  0%{ filter: blur(6px); opacity:0.55 }
  50%{ filter: blur(14px); opacity:0.9 }
  100%{ filter: blur(6px); opacity:0.55 }
}

/* typing dots */
.typing{
  display:inline-flex;
  gap:6px;
  align-items:center;
  padding:6px 10px;
}
.typing .dot{
  width:8px; height:8px; border-radius:999px;
  background: linear-gradient(180deg,var(--neon-1),var(--neon-3));
  box-shadow: 0 0 12px rgba(255,255,255,0.06), 0 0 22px rgba(0,255,200,0.06);
  opacity:0.2;
  transform:translateY(0);
  animation: dotBounce 900ms infinite;
}
.typing .dot:nth-child(2){ animation-delay:120ms }
.typing .dot:nth-child(3){ animation-delay:240ms }

@keyframes dotBounce{
  0%{ transform:translateY(0); opacity:0.35 }
  40%{ transform:translateY(-6px); opacity:1 }
  100%{ transform:translateY(0); opacity:0.35 }
}

/* subtle fade in for the whole container */
.container{ animation: containerFade 500ms ease both; }
@keyframes containerFade{
  from{ transform: scale(.995) translateY(6px); opacity:0 }
  to{ transform:none; opacity:1 }
}

/* accessibility: increase contrast when user prefers */
@media (prefers-contrast: more) {
  .message.bot { border-color: rgba(0,245,255,0.22); }
  .message.user { border-color: rgba(255,72,196,0.22); }
}
